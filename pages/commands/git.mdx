---
title: Git Commands
---

### Git & GitHub

#### ✨

- `git reset --soft HEAD~1` undo last commit
- `git rebase -i HEAD~2` interactive rebase
- `git reflog` view git history
- `git reset --hard HEAD@{number}` reset to a point in history
- `git diff --color-words main..current-branch` see changes
- `git fetch origin <branch>` `git checkout -b branch-name origin/<branch>`

#### Setup

- `git init` initializes a local git directory
- `rm -fr .git` removes a local git directory
- `git status` status of staging area
- `git log` show log of changes
- `git diff filename.txt` see recent changes

#### Navigate

- `git branch` lists all branches
- `git branch -a` lists all branches, including remote
- `git checkout -b branch-name` creates a new branch and moves into it
- `git checkout branch-name` move into branch
- `git checkout -` move into last used branch

#### Commit

- `git add <filename>` add file to staging area
- `git add .` add all files that aren`t currently staged
- `git add -p` add changes interactively
- `git commit` opens editor to write commit message
- `git commit -m “change message”` commits files locally
- `git commit -m “title” -m “longer description”` add a description of changes
- `git commit --amend -m "change message"` amend a commit and change the commit message
- `git commit --amend --no-edit` add to a commit without changing the commit message
- `git stash` stash changes
- `git stash pop` get back changes
- `git rebase -i HEAD~2` interactive rebase
  - `pick` to keep a commit
  - `fixup` merge with above commit
- `git reset` removes all files from git status staging area
- `git reset --soft HEAD~1` undo last commit, but keep changes in staging area
- `git reset --hard HEAD~1` undo last commit and remove changes from staging area

[How to write a good commit message](https://cbea.ms/git-commit/)

### Local branches

- `git checkout main`, `git pull origin main`, `git checkout -`, then `git rebase main` update current branch with latest changes from main
- `git checkout -b clean-branch-name origin/main` create a clean branch from main
- `git checkout main` then `git branch -D branch-name` delete local branch
- `git branch -m old-branch-name new-branch-name` rename a branch
- `git bundle create my-branch.bundle` create a bundled copy of branch
- `git bundle verify my-branch.bundle` verify the bundle
- `git clone my-branch.bundle -b main my-repo` clone from a bundle

### Remote branches

#### Origins

- `git remote -v` view connected remote repositories
- `git remote add origin <repository-url>` add remote origin
- `git remote remove origin` remove remote origin
- `git remote set-url origin url` update remote origin

#### Pull and push

- `git pull origin main` pull remote main branch into local branch
- `git push origin branch-name` push branch to the remote repo feature branch
  or
- `git push -u origin branch-name` push feature branch to the remote repo and set it as the upstream branch, then `git push` will push to that branch
- `git checkout -b new-branch origin/branch-name` checkout remote branch, good for testing PRs (or `gh pr checkout <PR number>` if using GitHub CLI)
- `git fetch && git checkout branch-name` get all remote branches

### Problems / Solutions

#### Wont push to a remote repo that has a README

```shell
git fetch --all
git rebase origin/main
```

#### Wont push because file is too large (remote hung up)

Increase file size limit to 1GB

```shell
git config http.postBuffer 1048576000
```

#### Merge conflicts

```shell
git pull origin main
git checkout feature-branch
git rebase main

# fix conflict
git add .
git rebase --continue
# repeat until conflicts are resolved

git push origin feature-branch --force-with-lease
```

### Resources

- [Practical Git Guide](https://github.com/sadanandpai/git-guide)
- [GitHub Docs](https://docs.github.com/en/get-started/using-git/about-git)
